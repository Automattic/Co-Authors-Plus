!function(){"use strict";var e,t={891:function(){var e=window.wp.blocks,t=window.wp.element,l=window.wp.i18n,i=window.wp.blockEditor,n=window.wp.components,a=window.wp.data,o=window.wp.coreData;const r=(0,t.createElement)(t.Fragment,null,(0,t.createElement)(n.__experimentalToggleGroupControlOption,{value:"cover",label:(0,l._x)("Cover","Scale option for Image dimension control")}),(0,t.createElement)(n.__experimentalToggleGroupControlOption,{value:"contain",label:(0,l._x)("Contain","Scale option for Image dimension control")}),(0,t.createElement)(n.__experimentalToggleGroupControlOption,{value:"fill",label:(0,l._x)("Fill","Scale option for Image dimension control")})),s="cover",c={cover:(0,l.__)("Image is scaled and cropped to fill the entire space without being distorted."),contain:(0,l.__)("Image is scaled to fill the space without clipping nor distorting."),fill:(0,l.__)("Image will be stretched and distorted to completely fill the space.")};var h=e=>{let{clientId:a,attributes:{aspectRatio:o,width:h,height:u,scale:g,sizeSlug:m},setAttributes:d,imageSizeOptions:p=[]}=e;const _=(0,n.__experimentalUseCustomUnits)({availableUnits:(0,i.useSetting)("spacing.units")||["px","%","vw","em","rem"]}),w=(e,t)=>{const l=parseFloat(t);isNaN(l)&&t||d({[e]:l<0?"0":t})},f=(0,l._x)("Scale","Image scaling options"),v=u||o&&"auto"!==o;return(0,t.createElement)(i.InspectorControls,{group:"dimensions"},(0,t.createElement)(n.__experimentalToolsPanelItem,{hasValue:()=>!!o,label:(0,l.__)("Aspect ratio"),onDeselect:()=>d({aspectRatio:void 0}),resetAllFilter:()=>({aspectRatio:void 0}),isShownByDefault:!0,panelId:a},(0,t.createElement)(n.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,l.__)("Aspect ratio"),value:o,options:[{label:(0,l.__)("Original"),value:"auto"},{label:(0,l.__)("Square"),value:"1"},{label:(0,l.__)("16:9"),value:"16/9"},{label:(0,l.__)("4:3"),value:"4/3"},{label:(0,l.__)("3:2"),value:"3/2"},{label:(0,l.__)("9:16"),value:"9/16"},{label:(0,l.__)("3:4"),value:"3/4"},{label:(0,l.__)("2:3"),value:"2/3"}],onChange:e=>d({aspectRatio:e})})),(0,t.createElement)(n.__experimentalToolsPanelItem,{className:"single-column",hasValue:()=>!!u,label:(0,l.__)("Height"),onDeselect:()=>d({height:void 0}),resetAllFilter:()=>({height:void 0}),isShownByDefault:!0,panelId:a},(0,t.createElement)(n.__experimentalUnitControl,{label:(0,l.__)("Height"),labelPosition:"top",value:u||"",min:0,onChange:e=>w("height",e),units:_})),(0,t.createElement)(n.__experimentalToolsPanelItem,{className:"single-column",hasValue:()=>!!h,label:(0,l.__)("Width"),onDeselect:()=>d({width:void 0}),resetAllFilter:()=>({width:void 0}),isShownByDefault:!0,panelId:a},(0,t.createElement)(n.__experimentalUnitControl,{label:(0,l.__)("Width"),labelPosition:"top",value:h||"",min:0,onChange:e=>w("width",e),units:_})),v&&(0,t.createElement)(n.__experimentalToolsPanelItem,{hasValue:()=>!!g&&g!==s,label:f,onDeselect:()=>d({scale:s}),resetAllFilter:()=>({scale:s}),isShownByDefault:!0,panelId:a},(0,t.createElement)(n.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,label:f,value:g,help:c[g],onChange:e=>d({scale:e}),isBlock:!0},r)),!!p.length&&(0,t.createElement)(n.__experimentalToolsPanelItem,{hasValue:()=>!!m,label:(0,l.__)("Resolution"),onDeselect:()=>d({sizeSlug:void 0}),resetAllFilter:()=>({sizeSlug:void 0}),isShownByDefault:!1,panelId:a},(0,t.createElement)(n.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,l.__)("Resolution"),value:m||"full",options:p,onChange:e=>d({sizeSlug:e}),help:(0,l.__)("Select the size of the source image.")})))};function u(e){let{dimensions:i,style:n,className:a}=e;const o=(0,t.useMemo)((()=>function(e){let{width:t,height:l}=e;return`data:image/svg+xml;charset=UTF-8,${encodeURIComponent(`<svg width="${t}" height="${l}" viewBox="0 0 ${t} ${t}" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<rect width="${t}" height="${t}" fill="#eeeeee"></rect>\n\t\t\t<path stroke="black" vector-effect="non-scaling-stroke" d="M ${t} ${t} 0 0" />\n\t\t</svg>`.replace(/[\t\n\r]/gim,"").replace(/\s\s+/g," ")).replace(/\(/g,"%28").replace(/\)/g,"%29")}`}(i)),[i]);return(0,t.createElement)("img",{alt:(0,l.__)("Placeholder image"),className:a,src:o,style:n,width:i.width,height:i.height})}function g(e,t){var l,i;return null==e||null===(l=e.media_details)||void 0===l||null===(i=l.sizes[t])||void 0===i?void 0:i.source_url}var m=JSON.parse('{"u2":"cap/coauthor-feature-image"}');(0,e.registerBlockType)(m.u2,{edit:function(e){let{attributes:r,setAttributes:s,context:c,clientId:m}=e;const{aspectRatio:d,height:p,isLink:_,rel:w,scale:f,sizeSlug:v,width:b}=r,x=(0,a.useSelect)((e=>e("cap/blocks").getAuthorPlaceholder()),[]),S=c["cap/author"]||x,E=(0,a.useSelect)((e=>0!==S.featured_media&&e(o.store).getMedia(S.featured_media,{context:"view"})),[S.featured_media]),{imageSizes:C,imageDimensions:k}=(0,a.useSelect)((e=>e(i.store).getSettings()),[]),I=C.map((e=>{let{name:t,slug:l}=e;return{value:l,label:t}})),y=function(e,t,l){if(e&&"full"===l)return l;const i=function(e,t){if(!e)return Object.keys(t);const l=Object.keys(e.media_details.sizes),i=Object.keys(t);return Array.from(new Set([...l.filter((e=>i.includes(e)))]))}(e,t);return l&&i.includes(l)?l:i[Math.max(0,i.length-1)]}(E,k,v),O=function(e,t,l){if(!e)return{};const i=e.media_details.sizes[l];if("full"===l)return{width:i.width,height:i.height};const n=t[l];if(!0===n.crop||n.width===n.height)return{width:n.width,height:n.height};const a=i.width/i.height;return n.width>n.height?{width:n.width,height:n.width/a}:{width:n.height*a,height:n.height}}(E,k,y),B=E?{}:function(e,t){const l=e[t];return!0===l.crop||l.width===l.height?{width:l.width,height:l.height}:l.width>l.height?{width:l.width,height:l.width}:{width:l.height,height:l.height}}(k,y),N=(0,i.__experimentalUseBorderProps)(r),A=0!==S.id&&!1===E;return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(h,{clientId:m,attributes:r,setAttributes:s,imageSizeOptions:I}),A?null:(0,t.createElement)("figure",(0,i.useBlockProps)(),E?(0,t.createElement)("img",{alt:(0,l.__)("Author feature image"),className:N.className,src:g(E,y),style:{width:!b&&p?"auto":b,height:!p&&b?"auto":p,aspectRatio:d,objectFit:f,...N.style},width:O.width,height:O.height}):(0,t.createElement)(u,{className:N.className,dimensions:B,style:{width:!b&&p?"auto":b,height:!p&&b?"auto":p,aspectRatio:d,objectFit:f,...N.style}})),(0,t.createElement)(i.InspectorControls,null,(0,t.createElement)(n.PanelBody,{title:(0,l.__)("Settings")},(0,t.createElement)(n.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,l.__)("Make feature image a link to author archive."),onChange:()=>s({isLink:!_}),checked:_}),_&&(0,t.createElement)(n.TextControl,{__nextHasNoMarginBottom:!0,label:(0,l.__)("Link rel"),value:w,onChange:e=>s({rel:e})}))))},save:function(){return(0,t.createElement)("p",i.useBlockProps.save(),"Coauthor Feature Image â€“ hello from the saved content!")}})}},l={};function i(e){var n=l[e];if(void 0!==n)return n.exports;var a=l[e]={exports:{}};return t[e](a,a.exports,i),a.exports}i.m=t,e=[],i.O=function(t,l,n,a){if(!l){var o=1/0;for(h=0;h<e.length;h++){l=e[h][0],n=e[h][1],a=e[h][2];for(var r=!0,s=0;s<l.length;s++)(!1&a||o>=a)&&Object.keys(i.O).every((function(e){return i.O[e](l[s])}))?l.splice(s--,1):(r=!1,a<o&&(o=a));if(r){e.splice(h--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var h=e.length;h>0&&e[h-1][2]>a;h--)e[h]=e[h-1];e[h]=[l,n,a]},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,431:0};i.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,a,o=l[0],r=l[1],s=l[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(n in r)i.o(r,n)&&(i.m[n]=r[n]);if(s)var h=s(i)}for(t&&t(l);c<o.length;c++)a=o[c],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return i.O(h)},l=self.webpackChunk=self.webpackChunk||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var n=i.O(void 0,[431],(function(){return i(891)}));n=i.O(n)}();